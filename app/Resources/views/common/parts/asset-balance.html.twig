{% if asset_balance is not empty %}
    <article class="contract">
        <p>{{'asset.balance_note'|trans}}</p>
        <table class="table table-striped table-condensed table-bordered">
            <thead>
                <tr>
                    <th>{{'asset.category'|trans}}</th>
                    <th>{{'common.quantity'|trans}}</th>
                    <th>{{'common.rental'|trans}}</th>
                    <th>{{'asset.balance'|trans}}</th>
                </tr>
            </thead>
            <tbody>
                {% for category_quantity in asset_balance %}
                    {% set row_balance = category_quantity.quantity %}
                    <tr>
                        <td class="category">{{category_quantity.category.fullName}}</td>
                        <td class="quantity{% if category_quantity.quantity > 0 %} deficit{% endif %}">
                            {{category_quantity.quantity|abs}}
                        </td>
                        {% if rental[category_quantity.category.id] is defined %}
                            <td class="quantity available">
                                {{rental[category_quantity.category.id]}}
                                {% set row_balance = row_balance - rental[category_quantity.category.id] %}
                            </td>
                        {% else %}
                            <td></td>
                        {% endif %}
                        <td class="quantity balance {% if row_balance > 0 %}deficit{% endif %}">
                            {{row_balance}}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </article>
{% endif %}